{"version":3,"sources":["../../src/lib/mailer.js"],"names":["nodemailer","require","transporter","createTransport","host","secureConnection","port","tls","ciphers","auth","user","pass","send","payload","callback","mailOptions","from","to","TO","subject","html","code","sendMail","sendApply","fullName","email","phoneNumber","jobApply","title","location","zone","graduationYear","wordExperience","cpa","university","name","major","category","cv","sendWelcomeLink"],"mappings":";;;;;;;AACA;;;;;;AADA,IAAIA,aAAaC,QAAQ,YAAR,CAAjB;;AAEA;AACA;AACA,IAAIC,cAAcF,WAAWG,eAAX,CAA2B;AACzCC,UAAM,mBADmC,EACd;AAC3BC,sBAAkB,KAFuB,EAEhB;AACzBC,UAAM,GAHmC,EAG9B;AACXC,SAAK;AACDC,iBAAQ;AADP,KAJoC;AAOzCC,UAAM;AACFC,cAAM,sBADJ;AAEFC,cAAM;AAFJ;AAPmC,CAA3B,CAAlB;AAYA;;;AAGO,IAAMC,sBAAO,SAAPA,IAAO,CAACC,OAAD,EAAUC,QAAV,EAAuB;AACvC;AACA,QAAIC,cAAc;AACdC,cAAM,sBADQ,EACgB;AAC9BC,YAAIJ,QAAQK,EAFE,EAEE;AAChBC,iBAAS,sBAHK,EAGmB;AACjCC,sCAA4BP,QAAQQ,IAApC,+IAJc,CAQZ;AARY,KAAlB;;AAWI;AACAnB,gBAAYoB,QAAZ,CAAqBP,WAArB,EAAkCD,QAAlC;AACP,CAfM;;AAiBA,IAAMS,gCAAY,SAAZA,SAAY,CAACV,OAAD,EAAUC,QAAV,EAAuB;AAC5C;AACA,QAAIC,cAAc;AACdC,cAAM,sBADQ,EACgB;AAC9BC,YAAI,uBAFU,EAEe;AAC7BE,iBAAS,sBAHK,EAGmB;AACjCC,8TAG8BP,QAAQW,QAHtC,wCAIkBX,QAAQY,KAJ1B,2DAKsBZ,QAAQa,WAL9B,oDAMoBb,QAAQc,QAAR,CAAiBC,KANrC,8DAOoBf,QAAQgB,QAAR,CAAiBC,IAPrC,+DAQ0BjB,QAAQkB,cARlC,kEAS+BlB,QAAQmB,cATvC,+DAU4BnB,QAAQoB,GAVpC,yDAWsBpB,QAAQqB,UAAR,CAAmBC,IAXzC,6CAYoBtB,QAAQuB,KAZ5B,uEAa6BvB,QAAQwB,QAAR,CAAiBT,KAb9C,gGAewBf,QAAQyB,EAfhC,yCAJc,CAqBZ;AArBY,KAAlB;;AAwBI;AACApC,gBAAYoB,QAAZ,CAAqBP,WAArB,EAAkCD,QAAlC;AACP,CA5BM;AA6BP;;;AAGA,IAAMyB,kBAAkB,SAAlBA,eAAkB,GAAM,CAE7B;AADG;;AAEJ;AAHA","file":"mailer.js","sourcesContent":["var nodemailer = require('nodemailer');\r\nimport config from '../config';\r\n// Create the transporter with the required configuration for Outlook\r\n// change the user and pass !\r\nvar transporter = nodemailer.createTransport({\r\n    host: \"mail.fsoft.com.vn\", // hostname\r\n    secureConnection: false, // TLS requires secureConnection to be false\r\n    port: 587, // port for secure SMTP\r\n    tls: {\r\n        ciphers:'SSLv3' \r\n    },\r\n    auth: {\r\n        user: 'HuyNT16@fsoft.com.vn',\r\n        pass: 'Repay$4bank3'\r\n    }\r\n}); \r\n/**\r\n * Send reset password link\r\n */\r\nexport const send = (payload, callback) => {\r\n    // setup e-mail data, even with unicode symbols\r\n    var mailOptions = {\r\n        from: 'HuyNT16@fsoft.com.vn', // sender address (who sends)vl day ne\r\n        to: payload.TO, // list of receivers (who receives)\r\n        subject: 'Send code entry test', // Subject line        \r\n        html: `<div>Your code is: ${payload.code}</div>\r\n            <div>\r\n                Thank you apply Fpt Software<br/> Best Regards, <br/>Nodejs Team \r\n            </div>\r\n        ` // html body\r\n        };\r\n\r\n        // send mail with defined transport object\r\n        transporter.sendMail(mailOptions, callback);\r\n}\r\n\r\nexport const sendApply = (payload, callback) => {\r\n    // setup e-mail data, even with unicode symbols\r\n    var mailOptions = {\r\n        from: 'HuyNT16@fsoft.com.vn', // sender address (who sends)vl day ne\r\n        to: 'AnhNT101@fsoft.com.vn', // list of receivers (who receives)\r\n        subject: 'Send code entry test', // Subject line\r\n        html: `<div>Chào quản trị viên:</div>\r\n            <div>\r\n                Bạn nhận được một CV Ứng viên tự do mới từ chiến dịch Marketing: “1500 Freshers”<br/> \r\n                Họ và tên ứng viên: ${payload.fullName}<br/> \r\n                Email : ${payload.email}<br/> \r\n                Điện thoại: ${payload.phoneNumber}<br/> \r\n                Kỹ năng : ${payload.jobApply.title}<br/> \r\n                Địa điểm: ${payload.location.zone}<br/> \r\n                Năm tốt nghiệp: ${payload.graduationYear}<br/> \r\n                Kinh nghiệm làm việc:${payload.wordExperience}<br/> \r\n                Điểm trung bình : ${payload.cpa}<br/> \r\n                Tên trường: ${payload.university.name}<br/> \r\n                Tên khoa: ${payload.major}<br/> \r\n                Ứng tuyển từ mục : ${payload.category.title}<br/> \r\n                Source : direct<br/> \r\n                CV đính kèm : ${payload.cv}<br/> \r\n            </div>\r\n        ` // html body\r\n        };\r\n\r\n        // send mail with defined transport object\r\n        transporter.sendMail(mailOptions, callback);\r\n}\r\n/**\r\n * Send welcome email to new users\r\n */\r\nconst sendWelcomeLink = () => {\r\n    // TODO\r\n}\r\n// export default send;"]}